(this["webpackJsonpreact-messenger"]=this["webpackJsonpreact-messenger"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(33)},,,,,function(e,t,a){},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),s=a.n(c),i=(a(17),a(10)),o=a(6),u=a(7),m=a(11),l=a(9),h=a(1),p=a.n(h),f=a(3),v=a(8),d=a.n(v),g=function(){var e=Math.ceil(10*Math.random()),t="https://randomuser.me/api/?results=".concat(e,"&inc=name,picture&noinfo");return fetch(t).then((function(e){return e.json()})).then((function(e){return e.results}))},w=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a[Math.floor(Math.random()*a.length)],e.abrupt("return",{icon:t.picture.thumbnail,author:"".concat(t.name.last," ").concat(t.name.first),message:n,date:(r=new Date(2019,0,1),c=new Date,new Date(r.getTime()+Math.random()*(c.getTime()-r.getTime())))});case 2:case"end":return e.stop()}var r,c}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Math.ceil(25+5*Math.random()),c=Object.assign([],t),s=0;case 4:if(!(s<r)){e.next=15;break}return i=Math.floor(Math.random()*c.length),e.t0=n,e.next=9,w(c[i],a);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),1===c.length?c=Object.assign([],t):c.splice(i,1);case 12:s++,e.next=4;break;case 15:return e.abrupt("return",{id:d.a.generate(),name:"Group Chat",messages:n.sort((function(e,t){return e.date.getTime()-t.date.getTime()}))});case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://baconipsum.com/api/?type=all-meat&paras=25&start-with-lorem=1").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.next=5,g();case 5:a=e.sent,n=Math.ceil(10+10*Math.random()),r=[],c=0;case 9:if(!(c<n)){e.next=18;break}return e.t0=r,e.next=13,x(a,t);case 13:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 15:c++,e.next=9;break;case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(a(27),function(e){var t=e.avatarUrl,a=e.userName;return r.a.createElement("img",{className:"chat-preview-item-avatar",src:t,alt:a})}),N=(a(28),function(e){var t=e.icon,a=e.name,n=e.date,c=e.author,s=e.message,i=e.isActive,o=e.selectItem;return r.a.createElement("div",{className:"".concat("flex full-width chat-preview-item "," ").concat(i?"chat-preview-item-selected":""),onClick:function(){o()}},r.a.createElement(E,{avatarUrl:t,userName:c}),r.a.createElement("div",{className:"flex-space-between margin-left-8px chat-preview-item-text-container"},r.a.createElement("div",{className:"flex-space-between margin-top-8px"},r.a.createElement("span",{className:"chat-preview-item-name"},"".concat(a)),r.a.createElement("span",{className:"chat-preview-item-date"},"".concat(n.toLocaleDateString("ru").replace(/\./g,"/")))),r.a.createElement("div",{className:"chat-preview-item-author-message margin-bottom-8px"},r.a.createElement("span",{className:"chat-preview-item-author"},"".concat(c,": ")),r.a.createElement("span",null,"".concat(s)))))}),k=(a(29),function(e){var t=e.data,a=e.selectItem,n=e.activeItemId;return r.a.createElement("div",{className:"flex chat-preview-list"},t.sort((function(e,t){return t.date.getTime()-e.date.getTime()})).map((function(e){return r.a.createElement(N,Object.assign({key:e.id,isActive:e.id===n,selectItem:function(){return a(e.id)}},e))})))}),j=(a(30),function(e){var t=e.icon,a=e.author,n=e.message,c=e.date;return r.a.createElement("div",{className:"flex screen-message-item"},r.a.createElement(E,{avatarUrl:t,userName:a}),r.a.createElement("div",{className:"margin-left-8px full-width flex screen-message-text"},r.a.createElement("span",{className:"chat-preview-item-name"},"".concat(a)),r.a.createElement("div",{className:"margin-top-8px flex-space-between"},r.a.createElement("span",null,"".concat(n)),r.a.createElement("span",{className:"chat-preview-item-date"},"".concat(c.toLocaleDateString("ru").replace(/\./g,"/"))))))}),M=(a(31),function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={chats:[],activeChatId:""},e.selectChat=function(t){e.setState({activeChatId:t})},e.preparePreviewData=function(){return e.state.chats.map((function(e){return Object(i.a)({id:e.id,name:e.name},e.messages[e.messages.length-1])}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){return e.setState({chats:t})}))}},{key:"render",value:function(){var e=this.state,t=e.chats,a=e.activeChatId,n=t.find((function(e){return e.id===a})),c=n?n.messages:[];return r.a.createElement("div",{className:"flex chat"},r.a.createElement(k,{data:this.preparePreviewData(),activeItemId:a,selectItem:this.selectChat}),r.a.createElement("div",{className:"flex chat-screen"},c.map((function(e,t){return r.a.createElement(j,Object.assign({key:t},e))}))))}}]),a}(r.a.Component)),y=(a(32),function(){return r.a.createElement(M,null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.b67ef890.chunk.js.map